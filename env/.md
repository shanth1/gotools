# `env` Package

The `env` package provides a utility to load configuration from system environment variables and `.env` files into a Go struct.

## Loading Priority

Variables are loaded with the following priority (highest first):

1.  **System Environment Variables**: Variables already present in the shell environment.
2.  **.env File**: Variables defined in the file specified by the path.

This means if a variable is defined in both the system and a `.env` file, the value from the system environment will be used.

## Struct Tags

Fields in the destination struct must be tagged with the `env` key.

- `env:"<VARIABLE_NAME>"`: Specifies the environment variable to read.
- `env-default:"<value>"`: (Optional) Provides a default value if the variable is not set.
- `env-required:"true"`: (Optional) Marks the variable as mandatory, causing an error if it's not set.

## Usage

Create a `.env` file:

```dotenv
# ./.env
DB_HOST=localhost
DB_PORT=5432
API_KEY=secret-key
```

Define a corresponding Go struct and load the variables:

```go
package main

import (
	"fmt"
	"log"

	"github.com/shanth1/gotools/env"
)

type Config struct {
	DBHost string `env:"DB_HOST" env-required:"true"`
	DBPort int    `env:"DB_PORT" env-default:"5432"`
	APIKey string `env:"API_KEY" env-required:"true"`
}

func main() {
	var cfg Config
	if err := env.LoadIntoStruct(".env", &cfg); err != nil {
		log.Fatalf("failed to load environment variables: %v", err)
	}

	fmt.Printf("Database Host: %s\n", cfg.DBHost)
	fmt.Printf("Database Port: %d\n", cfg.DBPort)
}
```

**Example execution:**

```sh
# Run using the .env file
go run main.go
# Output:
# Database Host: localhost
# Database Port: 5432

# Override a variable from the environment
DB_HOST=prod.db.server go run main.go
# Output:
# Database Host: prod.db.server
# Database Port: 5432
```
